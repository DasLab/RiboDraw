<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of demo_ubjson_basic</title>
  <meta name="keywords" content="demo_ubjson_basic">
  <meta name="description" content="%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../../../index.html">Home</a> &gt;  <a href="#">Scripts</a> &gt; <a href="#">external</a> &gt; <a href="#">jsonlab-1.5</a> &gt; <a href="../index.html">jsonlab-1.5</a> &gt; <a href="index.html">examples</a> &gt; demo_ubjson_basic.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../../../index.html"><img alt="<" border="0" src="../../../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for Scripts/external/jsonlab-1.5/jsonlab-1.5/examples&nbsp;<img alt=">" border="0" src="../../../../../right.png"></a></td></tr></table>-->

<h1>demo_ubjson_basic
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../../../up.png"></a></h2>
<div class="box"><strong>%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../../../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../../../up.png"></a></h2>
<div class="fragment"><pre class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
         Demonstration of Basic Utilities of JSONlab
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../../../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../../../../../matlabicon.gif)">
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0002 <span class="comment">%         Demonstration of Basic Utilities of JSONlab</span>
0003 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0004 
0005 rngstate = rand (<span class="string">'state'</span>);
0006 randseed=hex2dec(<span class="string">'623F9A9E'</span>);
0007 clear data2json json2data
0008 
0009 fprintf(1,<span class="string">'\n%%=================================================\n'</span>)
0010 fprintf(1,<span class="string">'%%  a simple scalar value \n'</span>)
0011 fprintf(1,<span class="string">'%%=================================================\n\n'</span>)
0012 
0013 data2json=pi
0014 saveubjson(<span class="string">''</span>,data2json)
0015 json2data=loadubjson(ans)
0016 
0017 fprintf(1,<span class="string">'\n%%=================================================\n'</span>)
0018 fprintf(1,<span class="string">'%%  a complex number\n'</span>)
0019 fprintf(1,<span class="string">'%%=================================================\n\n'</span>)
0020 
0021 clear i;
0022 data2json=1+2*i
0023 saveubjson(<span class="string">''</span>,data2json)
0024 json2data=loadubjson(ans) 
0025 
0026 fprintf(1,<span class="string">'\n%%=================================================\n'</span>)
0027 fprintf(1,<span class="string">'%%  a complex matrix\n'</span>)
0028 fprintf(1,<span class="string">'%%=================================================\n\n'</span>)
0029 
0030 data2json=magic(6);
0031 data2json=data2json(:,1:3)+data2json(:,4:6)*i
0032 saveubjson(<span class="string">''</span>,data2json)
0033 json2data=loadubjson(ans)
0034 
0035 fprintf(1,<span class="string">'\n%%=================================================\n'</span>)
0036 fprintf(1,<span class="string">'%%  MATLAB special constants\n'</span>)
0037 fprintf(1,<span class="string">'%%=================================================\n\n'</span>)
0038 
0039 data2json=[NaN Inf -Inf]
0040 saveubjson(<span class="string">'specials'</span>,data2json)
0041 json2data=loadubjson(ans)
0042 
0043 fprintf(1,<span class="string">'\n%%=================================================\n'</span>)
0044 fprintf(1,<span class="string">'%%  a real sparse matrix\n'</span>)
0045 fprintf(1,<span class="string">'%%=================================================\n\n'</span>)
0046 
0047 data2json=sprand(10,10,0.1)
0048 saveubjson(<span class="string">'sparse'</span>,data2json)
0049 json2data=loadubjson(ans)
0050 
0051 fprintf(1,<span class="string">'\n%%=================================================\n'</span>)
0052 fprintf(1,<span class="string">'%%  a complex sparse matrix\n'</span>)
0053 fprintf(1,<span class="string">'%%=================================================\n\n'</span>)
0054 
0055 data2json=data2json-data2json*i
0056 saveubjson(<span class="string">'complex_sparse'</span>,data2json)
0057 json2data=loadubjson(ans)
0058 
0059 fprintf(1,<span class="string">'\n%%=================================================\n'</span>)
0060 fprintf(1,<span class="string">'%%  an all-zero sparse matrix\n'</span>)
0061 fprintf(1,<span class="string">'%%=================================================\n\n'</span>)
0062 
0063 data2json=sparse(2,3);
0064 saveubjson(<span class="string">'all_zero_sparse'</span>,data2json)
0065 json2data=loadubjson(ans)
0066 
0067 fprintf(1,<span class="string">'\n%%=================================================\n'</span>)
0068 fprintf(1,<span class="string">'%%  an empty sparse matrix\n'</span>)
0069 fprintf(1,<span class="string">'%%=================================================\n\n'</span>)
0070 
0071 data2json=sparse([]);
0072 saveubjson(<span class="string">'empty_sparse'</span>,data2json)
0073 json2data=loadubjson(ans)
0074 
0075 fprintf(1,<span class="string">'\n%%=================================================\n'</span>)
0076 fprintf(1,<span class="string">'%%  an empty 0-by-0 real matrix\n'</span>)
0077 fprintf(1,<span class="string">'%%=================================================\n\n'</span>)
0078 
0079 data2json=[];
0080 saveubjson(<span class="string">'empty_0by0_real'</span>,data2json)
0081 json2data=loadubjson(ans)
0082 
0083 fprintf(1,<span class="string">'\n%%=================================================\n'</span>)
0084 fprintf(1,<span class="string">'%%  an empty 0-by-3 real matrix\n'</span>)
0085 fprintf(1,<span class="string">'%%=================================================\n\n'</span>)
0086 
0087 data2json=zeros(0,3);
0088 saveubjson(<span class="string">'empty_0by3_real'</span>,data2json)
0089 json2data=loadubjson(ans)
0090 
0091 fprintf(1,<span class="string">'\n%%=================================================\n'</span>)
0092 fprintf(1,<span class="string">'%%  a sparse real column vector\n'</span>)
0093 fprintf(1,<span class="string">'%%=================================================\n\n'</span>)
0094 
0095 data2json=sparse([0,3,0,1,4]');
0096 saveubjson(<span class="string">'sparse_column_vector'</span>,data2json)
0097 json2data=loadubjson(ans)
0098 
0099 fprintf(1,<span class="string">'\n%%=================================================\n'</span>)
0100 fprintf(1,<span class="string">'%%  a sparse complex column vector\n'</span>)
0101 fprintf(1,<span class="string">'%%=================================================\n\n'</span>)
0102 
0103 data2json=data2json-1i*data2json;
0104 saveubjson(<span class="string">'complex_sparse_column_vector'</span>,data2json)
0105 json2data=loadubjson(ans)
0106 
0107 fprintf(1,<span class="string">'\n%%=================================================\n'</span>)
0108 fprintf(1,<span class="string">'%%  a sparse real row vector\n'</span>)
0109 fprintf(1,<span class="string">'%%=================================================\n\n'</span>)
0110 
0111 data2json=sparse([0,3,0,1,4]);
0112 saveubjson(<span class="string">'sparse_row_vector'</span>,data2json)
0113 json2data=loadubjson(ans)
0114 
0115 fprintf(1,<span class="string">'\n%%=================================================\n'</span>)
0116 fprintf(1,<span class="string">'%%  a sparse complex row vector\n'</span>)
0117 fprintf(1,<span class="string">'%%=================================================\n\n'</span>)
0118 
0119 data2json=data2json-1i*data2json;
0120 saveubjson(<span class="string">'complex_sparse_row_vector'</span>,data2json)
0121 json2data=loadubjson(ans)
0122 
0123 fprintf(1,<span class="string">'\n%%=================================================\n'</span>)
0124 fprintf(1,<span class="string">'%%  a structure\n'</span>)
0125 fprintf(1,<span class="string">'%%=================================================\n\n'</span>)
0126 
0127 data2json=struct(<span class="string">'name'</span>,<span class="string">'Think Different'</span>,<span class="string">'year'</span>,1997,<span class="string">'magic'</span>,magic(3),<span class="keyword">...</span>
0128                  <span class="string">'misfits'</span>,[Inf,NaN],<span class="string">'embedded'</span>,struct(<span class="string">'left'</span>,true,<span class="string">'right'</span>,false))
0129 saveubjson(<span class="string">'astruct'</span>,data2json,struct(<span class="string">'ParseLogical'</span>,1))
0130 json2data=loadubjson(ans)
0131 
0132 fprintf(1,<span class="string">'\n%%=================================================\n'</span>)
0133 fprintf(1,<span class="string">'%%  a structure array\n'</span>)
0134 fprintf(1,<span class="string">'%%=================================================\n\n'</span>)
0135 
0136 data2json=struct(<span class="string">'name'</span>,<span class="string">'Nexus Prime'</span>,<span class="string">'rank'</span>,9);
0137 data2json(2)=struct(<span class="string">'name'</span>,<span class="string">'Sentinel Prime'</span>,<span class="string">'rank'</span>,9);
0138 data2json(3)=struct(<span class="string">'name'</span>,<span class="string">'Optimus Prime'</span>,<span class="string">'rank'</span>,9);
0139 saveubjson(<span class="string">'Supreme Commander'</span>,data2json)
0140 json2data=loadubjson(ans)
0141 
0142 fprintf(1,<span class="string">'\n%%=================================================\n'</span>)
0143 fprintf(1,<span class="string">'%%  a cell array\n'</span>)
0144 fprintf(1,<span class="string">'%%=================================================\n\n'</span>)
0145 
0146 data2json=cell(3,1);
0147 data2json{1}=struct(<span class="string">'buzz'</span>,1.1,<span class="string">'rex'</span>,1.2,<span class="string">'bo'</span>,1.3,<span class="string">'hamm'</span>,2.0,<span class="string">'slink'</span>,2.1,<span class="string">'potato'</span>,2.2,<span class="keyword">...</span>
0148               <span class="string">'woody'</span>,3.0,<span class="string">'sarge'</span>,3.1,<span class="string">'etch'</span>,4.0,<span class="string">'lenny'</span>,5.0,<span class="string">'squeeze'</span>,6.0,<span class="string">'wheezy'</span>,7.0);
0149 data2json{2}=struct(<span class="string">'Ubuntu'</span>,[<span class="string">'Kubuntu'</span>;<span class="string">'Xubuntu'</span>;<span class="string">'Lubuntu'</span>]);
0150 data2json{3}=[10.04,10.10,11.04,11.10]
0151 saveubjson(<span class="string">'debian'</span>,data2json,struct(<span class="string">'FloatFormat'</span>,<span class="string">'%.2f'</span>))
0152 json2data=loadubjson(ans)
0153 
0154 fprintf(1,<span class="string">'\n%%=================================================\n'</span>)
0155 fprintf(1,<span class="string">'%%  invalid field-name handling\n'</span>)
0156 fprintf(1,<span class="string">'%%=================================================\n\n'</span>)
0157 
0158 json2data=loadubjson(saveubjson(<span class="string">''</span>,loadjson(<span class="string">'{&quot;ValidName&quot;:1, &quot;_InvalidName&quot;:2, &quot;:Field:&quot;:3, &quot;项目&quot;:&quot;绝密&quot;}'</span>)))
0159 
0160 fprintf(1,<span class="string">'\n%%=================================================\n'</span>)
0161 fprintf(1,<span class="string">'%%  a 2D cell array\n'</span>)
0162 fprintf(1,<span class="string">'%%=================================================\n\n'</span>)
0163 
0164 data2json={{1,{2,3}},{4,5},{6};{7},{8,9},{10}};
0165 saveubjson(<span class="string">'data2json'</span>,data2json)
0166 json2data=loadubjson(ans)  <span class="comment">% only savejson works for cell arrays, loadjson has issues</span>
0167 
0168 fprintf(1,<span class="string">'\n%%=================================================\n'</span>)
0169 fprintf(1,<span class="string">'%%  a 2D struct array\n'</span>)
0170 fprintf(1,<span class="string">'%%=================================================\n\n'</span>)
0171 
0172 data2json=repmat(struct(<span class="string">'idx'</span>,0,<span class="string">'data'</span>,<span class="string">'structs'</span>),[2,3])
0173 <span class="keyword">for</span> i=1:6
0174     data2json(i).idx=i;
0175 <span class="keyword">end</span>
0176 saveubjson(<span class="string">'data2json'</span>,data2json)
0177 json2data=loadubjson(ans)
0178 
0179 rand (<span class="string">'state'</span>,rngstate);
0180</pre></div>
<hr><address>Generated on Fri 17-Nov-2017 17:25:01 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>